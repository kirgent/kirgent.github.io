<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Nano Tag Playground</title>

</head>
<body>
<script>
    ((z, n) => {
        function sdk(data) {
            switch (data) {
                case 'onPermissionDefault':/* you code */
                    break;
                case 'onPermissionAllowed':/* you code */
                    break;
                case 'onPermissionDenied':/* you code */
                    break;
                case 'onAlreadySubscribed':/* you code */
                    break;
                case 'onNotificationUnsupported':/* you code */
                    break;
            }
        }

        const ns = navigator.serviceWorker;
        const qs = Object.fromEntries(new URLSearchParams(window.location.search));
        const bc = new BroadcastChannel(`sw_${z}`);
        const op = Notification.permission === 'granted';
        bc.addEventListener('message', ({data}) => sdk(data));

        if (!ns) sdk('onNotificationUnsupported')
        else Promise.all([Notification.requestPermission(), ns.getRegistrations(), ns.register(`${n}?z=${z}&var=${qs.var || ""}&ymid=${qs.ymid || ""}&nt=1`, {scope: '/'})])
            .then(([pe, rs, r]) => (r.active || r.installing).postMessage({
                pe,
                rs: rs.map(({scope}) => scope),
                op: op,
                nt: true
            }));
    })(4718657, '/sw.js');
</script>
<h1>Nano Tag Playground</h1>
Check subscription to NativeAds (banner views):
<a href="https://testmecompletely.com/tests/QA-Tests-Production/ui-smoke/src/test/resources/pages/onlyWebAndFormatsPages/native_cpc_campaign_clicks.html">native_cpc_campaign_clicks</a>
<br>
Check subscription to NativeAds:
<a href="https://testmecompletely.com/tests/QA-Tests-Production/ui-smoke/src/test/resources/pages/onlyWebAndFormatsPages/nativeads_cpc.html">nativeads_cpc</a>
<br>
Check subscription to NativeAds with ADBLOCK PLUS enabled:
<a href="https://testmecompletely.com/tests/QA-Tests-Production/ui-smoke/src/test/resources/pages/onlyWebAndFormatsPages/aadb_nativeads_cpc.html">aadb_nativeads_cpc</a>
<br><br>
Check Subscriptions on chrome 107_robot with UBLOCK:
<a href="https://testmecompletely.com/tests/QA-Tests-Production/ui-smoke/src/test/resources/pages/onlyWebAndFormatsPages/aadb_nativeads_cpc_formats.html">aadb_nativeads_cpc_formats</a>
<br><br>
<a href="https://adstester.com/">https://adstester.com/</a>
</body>
</html>
